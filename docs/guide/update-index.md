# æ›´æ–°ç´¢å¼•

æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬æ›´æ–°ç«™ç‚¹ç´¢å¼•å’Œå¯¼èˆªé…ç½®ã€‚

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®æä¾›äº† `update_readme.py` è„šæœ¬ï¼Œå¯ä»¥è‡ªåŠ¨ï¼š

- âœ… æ‰«æ `docs/notes/` ç›®å½•ä¸‹çš„æ‰€æœ‰ Markdown æ–‡ä»¶
- âœ… æå–æ¯ä¸ªæ–‡ä»¶çš„æ ‡é¢˜å’Œæè¿°
- âœ… æŒ‰åˆ†ç±»ç»„ç»‡æ–‡ä»¶åˆ—è¡¨
- âœ… æ›´æ–° `docs/index.md` é¦–é¡µå†…å®¹
- âœ… æ›´æ–° `mkdocs.yml` å¯¼èˆªé…ç½®
- âœ… æ›´æ–° `README.md` é¡¹ç›®è¯´æ˜

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ä¸€ï¼šè¿è¡Œ Python è„šæœ¬

```bash
python update_readme.py
```

### æ–¹å¼äºŒï¼šè¿è¡Œæ‰¹å¤„ç†æ–‡ä»¶ï¼ˆWindowsï¼‰

```bash
update_notes.bat
```

è¯¥æ‰¹å¤„ç†æ–‡ä»¶ä¼šï¼š
1. è¿è¡Œ `update_readme.py` è„šæœ¬
2. æ˜¾ç¤ºæ‰§è¡Œç»“æœ
3. æš‚åœä»¥ä¾¿æŸ¥çœ‹è¾“å‡ºä¿¡æ¯

---

## ğŸ“Š è„šæœ¬åŠŸèƒ½è¯¦è§£

### 1. æ‰«æ Markdown æ–‡ä»¶

è„šæœ¬ä¼šé€’å½’æ‰«æ `docs/notes/` ç›®å½•ä¸‹çš„æ‰€æœ‰ `.md` æ–‡ä»¶ï¼š

```
docs/notes/
â”œâ”€â”€ r-project-guide/
â”‚   â”œâ”€â”€ 01-Ré¡¹ç›®ç»“æ„.md
â”‚   â””â”€â”€ 02-Rç¨‹åºæŒ‡å—.md
â””â”€â”€ your-category/
    â””â”€â”€ your-guide.md
```

### 2. æå–æ–‡ä»¶ä¿¡æ¯

å¯¹æ¯ä¸ªæ–‡ä»¶æå–ä»¥ä¸‹ä¿¡æ¯ï¼š

- **æ ‡é¢˜**: æ–‡ä»¶ä¸­çš„ç¬¬ä¸€ä¸ªä¸€çº§æ ‡é¢˜ï¼ˆ`# æ ‡é¢˜`ï¼‰
- **æè¿°**: æ ‡é¢˜åçš„ç¬¬ä¸€æ®µæ–‡å­—ï¼ˆå‰ 50 ä¸ªå­—ç¬¦ï¼‰
- **åˆ†ç±»**: æ ¹æ®æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹ç¡®å®š
- **ä¿®æ”¹æ—¶é—´**: æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´
- **ç›¸å¯¹è·¯å¾„**: ç”¨äºç”Ÿæˆé“¾æ¥

### 3. ç”Ÿæˆé¦–é¡µç´¢å¼•

è‡ªåŠ¨ç”Ÿæˆ `docs/index.md` é¦–é¡µï¼ŒåŒ…å«ï¼š

```markdown
# ğŸ“˜ R Project å¼€å‘æŒ‡å—

æ¬¢è¿æ¥åˆ° R è¯­è¨€é¡¹ç›®å¼€å‘æŒ‡å—ï¼...

## ğŸ“š æŒ‡å—å†…å®¹

### ğŸ—‚ï¸ åˆ†ç±»åç§°

#### [æŒ‡å—æ ‡é¢˜](notes/path/to/guide.md)
æŒ‡å—æè¿°...

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

- **æŒ‡å—åˆ†ç±»**: X ä¸ª
- **æ–‡æ¡£æ•°é‡**: X ç¯‡
- **æœ€è¿‘æ›´æ–°**: YYYY-MM-DD
```

### 4. æ›´æ–°å¯¼èˆªé…ç½®

è‡ªåŠ¨æ›´æ–° `mkdocs.yml` ä¸­çš„ `nav` éƒ¨åˆ†ï¼š

```yaml
nav:
- é¦–é¡µ: index.md
- åˆ†ç±»åç§°:
  - æŒ‡å—æ ‡é¢˜: notes/path/to/guide.md
  - å¦ä¸€ä¸ªæŒ‡å—: notes/path/to/another-guide.md
- ä½¿ç”¨æŒ‡å—:
  - å¦‚ä½•ä½¿ç”¨æœ¬ç«™: guide/usage.md
  - æ·»åŠ æ–°æŒ‡å—: guide/add-notes.md
  - æ›´æ–°ç´¢å¼•: guide/update-index.md
```

### 5. æ›´æ–° README.md

æ ¹æ® `docs/index.md` çš„å†…å®¹ç”Ÿæˆ `README.md`ï¼Œå¹¶ï¼š

- æ·»åŠ  GitHub Pages åœ¨çº¿æµè§ˆé“¾æ¥
- è°ƒæ•´ç›¸å¯¹è·¯å¾„ï¼ˆæ·»åŠ  `docs/` å‰ç¼€ï¼‰
- æ·»åŠ é¡¹ç›®ä½¿ç”¨è¯´æ˜å’Œè´¡çŒ®æŒ‡å—

---

## ğŸ”§ è„šæœ¬é…ç½®

### æ–‡ä»¶ç»“æ„è¦æ±‚

è„šæœ¬å‡å®šé¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š

```
SharingNotes/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ index.md
â”‚   â”œâ”€â”€ notes/              # æŒ‡å—æ–‡æ¡£ç›®å½•
â”‚   â”‚   â””â”€â”€ category-name/  # åˆ†ç±»æ–‡ä»¶å¤¹
â”‚   â”‚       â””â”€â”€ guide.md    # æŒ‡å—æ–‡ä»¶
â”‚   â””â”€â”€ guide/              # ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ mkdocs.yml
â”œâ”€â”€ README.md
â””â”€â”€ update_readme.py
```

### Markdown æ–‡ä»¶è¦æ±‚

æ¯ä¸ªæŒ‡å—æ–‡ä»¶åº”è¯¥ï¼š

1. **åŒ…å«ä¸€çº§æ ‡é¢˜**ï¼ˆå¿…éœ€ï¼‰ï¼š
   ```markdown
   # æŒ‡å—æ ‡é¢˜
   ```

2. **åŒ…å«æè¿°æ€§æ–‡å­—**ï¼ˆå¯é€‰ï¼‰ï¼š
   ```markdown
   # æŒ‡å—æ ‡é¢˜
   
   è¿™é‡Œæ˜¯æŒ‡å—çš„ç®€çŸ­æè¿°ï¼Œä¼šè¢«æå–ä¸ºæ‘˜è¦...
   ```

3. **é¿å…ä½¿ç”¨ä¸­æ–‡æ–‡ä»¶å**ï¼ˆæ¨èï¼‰ï¼š
   - å¥½ï¼š`01-project-structure.md`
   - é¿å…ï¼š`01-é¡¹ç›®ç»“æ„.md`

---

## âš™ï¸ è‡ªå®šä¹‰é…ç½®

å¦‚æœéœ€è¦ä¿®æ”¹è„šæœ¬è¡Œä¸ºï¼Œå¯ä»¥ç¼–è¾‘ `update_readme.py`ï¼š

### ä¿®æ”¹æ‰«æç›®å½•

```python
# åœ¨ scan_notes_folder() å‡½æ•°ä¸­
notes_folder = Path('./docs/notes')  # ä¿®æ”¹æ­¤è·¯å¾„
```

### ä¿®æ”¹æè¿°é•¿åº¦

```python
# åœ¨ extract_description_from_markdown() å‡½æ•°ä¸­
description = line[:50]  # ä¿®æ”¹å­—ç¬¦æ•°é™åˆ¶
```

### ä¿®æ”¹ç»Ÿè®¡ä¿¡æ¯

```python
# åœ¨ generate_statistics() å‡½æ•°ä¸­
# è‡ªå®šä¹‰ç»Ÿè®¡ä¿¡æ¯çš„è®¡ç®—å’Œæ˜¾ç¤º
```

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜ 1: è¿è¡Œè„šæœ¬æ—¶å‡ºç°ç¼–ç é”™è¯¯

**ç—‡çŠ¶**: 
```
UnicodeEncodeError: 'gbk' codec can't encode character
```

**è§£å†³æ–¹æ¡ˆ**:
åœ¨ Windows ä¸­ï¼Œä½¿ç”¨ UTF-8 ç¼–ç è¿è¡Œï¼š

```bash
chcp 65001
python update_readme.py
```

æˆ–ä¿®æ”¹è„šæœ¬å¼€å¤´æ·»åŠ ï¼š
```python
import sys
sys.stdout.reconfigure(encoding='utf-8')
```

### é—®é¢˜ 2: è„šæœ¬æ‰¾ä¸åˆ°æ–‡ä»¶

**ç—‡çŠ¶**:
```
âŒ æœªæ‰¾åˆ°ä»»ä½•markdownæ–‡ä»¶ï¼
```

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®è®¤åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œè„šæœ¬
- æ£€æŸ¥ `docs/notes/` ç›®å½•æ˜¯å¦å­˜åœ¨
- ç¡®è®¤ç›®å½•ä¸­æœ‰ `.md` æ–‡ä»¶

### é—®é¢˜ 3: YAML æ ¼å¼é”™è¯¯

**ç—‡çŠ¶**:
```
yaml.scanner.ScannerError: ...
```

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `mkdocs.yml` æ–‡ä»¶æ ¼å¼
- ç¡®ä¿ç¼©è¿›ä½¿ç”¨ç©ºæ ¼è€Œéåˆ¶è¡¨ç¬¦
- éªŒè¯ YAML è¯­æ³•æ­£ç¡®æ€§

### é—®é¢˜ 4: å›¾ç‰‡é“¾æ¥å¤±æ•ˆ

**åŸå› **: å›¾ç‰‡ä½¿ç”¨äº†ç›¸å¯¹è·¯å¾„ï¼Œæ›´æ–°åå¯èƒ½æ‰¾ä¸åˆ°

**è§£å†³æ–¹æ¡ˆ**:
- å°†å›¾ç‰‡æ”¾åœ¨ä¸ Markdown æ–‡ä»¶ç›¸åŒçš„ç›®å½•
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨ï¼š`![æè¿°](image.png)`
- ä¸è¦ä½¿ç”¨ç»å¯¹è·¯å¾„

---

## ğŸ“ æœ€ä½³å®è·µ

### ä½•æ—¶è¿è¡Œæ›´æ–°è„šæœ¬

- âœ… æ·»åŠ æ–°çš„æŒ‡å—æ–‡æ¡£å
- âœ… ä¿®æ”¹æ–‡ä»¶æ ‡é¢˜å
- âœ… é‡æ–°ç»„ç»‡æ–‡ä»¶ç»“æ„å
- âœ… å‘ç°ç´¢å¼•ä¸åŒæ­¥æ—¶

### æäº¤å‰æ£€æŸ¥

è¿è¡Œè„šæœ¬åï¼Œå»ºè®®æ£€æŸ¥ï¼š

1. **æœ¬åœ°é¢„è§ˆæ•ˆæœ**:
   ```bash
   mkdocs serve
   ```

2. **ç¡®è®¤ç”Ÿæˆçš„æ–‡ä»¶**:
   - `docs/index.md` - é¦–é¡µå†…å®¹æ­£ç¡®
   - `mkdocs.yml` - å¯¼èˆªç»“æ„åˆç†
   - `README.md` - é¡¹ç›®è¯´æ˜å®Œæ•´

3. **æäº¤æ›´æ”¹**:
   ```bash
   git add docs/index.md mkdocs.yml README.md
   git commit -m "æ›´æ–°: ç«™ç‚¹ç´¢å¼•"
   git push
   ```

---

## ğŸ”„ æŒç»­é›†æˆï¼ˆå¯é€‰ï¼‰

å¦‚æœå¸Œæœ›è‡ªåŠ¨åŒ–æ›´æ–°è¿‡ç¨‹ï¼Œå¯ä»¥é…ç½® GitHub Actionsï¼š

### åˆ›å»ºå·¥ä½œæµæ–‡ä»¶

`.github/workflows/update-index.yml`:

```yaml
name: Update Index

on:
  push:
    paths:
      - 'docs/notes/**/*.md'
  workflow_dispatch:

jobs:
  update-index:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.x'
    
    - name: Install dependencies
      run: |
        pip install pyyaml
    
    - name: Run update script
      run: python update_readme.py
    
    - name: Commit changes
      run: |
        git config --local user.email "action@github.com"
        git config --local user.name "GitHub Action"
        git add -A
        git diff --quiet && git diff --staged --quiet || \
          git commit -m "è‡ªåŠ¨æ›´æ–°: ç«™ç‚¹ç´¢å¼• [skip ci]"
        git push
```

è¿™æ ·æ¯æ¬¡æ¨é€ `docs/notes/` ä¸‹çš„ Markdown æ–‡ä»¶æ—¶ï¼Œä¼šè‡ªåŠ¨è¿è¡Œæ›´æ–°è„šæœ¬ã€‚

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°è„šæœ¬é—®é¢˜ï¼š

1. æŸ¥çœ‹è„šæœ¬è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
2. æ£€æŸ¥æ–‡ä»¶å’Œç›®å½•æƒé™
3. éªŒè¯ Python å’Œä¾èµ–åŒ…ç‰ˆæœ¬
4. è®¿é—® [GitHub Issues](https://github.com/jingya221/SharingNotes/issues) å¯»æ±‚å¸®åŠ©

---

æ›´æ–°ç´¢å¼•æ˜¯ç»´æŠ¤æ–‡æ¡£ç«™ç‚¹çš„é‡è¦æ­¥éª¤ï¼Œç¡®ä¿å†…å®¹å§‹ç»ˆä¿æŒåŒæ­¥ï¼ ğŸ”„
